<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My page</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <!-- 백엔드 CSS/스크립트 확인 -->
    <link rel="stylesheet" href="../myPageStyle.css">
    <script src="../myPage.js" defer></script>
    <!-- 프론트 CSS/스크립트 -->
    <!-- <link rel="stylesheet" href="../static/myPageStyle.css">
    <script src="../static/myPage.js" defer></script> -->
</head>
<body>
    <header class="GNB">
        <a href="/logout"><button id="logOut"><span class="material-symbols-outlined">logout</span></button></a>
        <a href="/weather"><button id="home"><span class="material-symbols-outlined">home</span></button></a>
    </header>

    <div class="wrapper">
        <section class="profile">
                <div id="windowBorder">
                    <div id="window">
                            <div class="userInfo">
                                <p>
                                    <span class="infoTitle">ID</span>
                                    <span id="userId" th:text="${user.id}"></span>
                                </p>
                                <p>
                                    <span class="infoTitle">Nick Name</span>
                                    <span id="pUuserNickname" th:text="${user.nickname}">weatherFairy</span>
                                </p>
                                <p>
                                    <span id="userFavorite" th:text="|${user.fvweather} 를 좋아합니다|"></span>
                                </p>
                                <div class="btnWrapper">
                                    <button id="changePF">프로필 수정</button>
                                    <a href="#" onclick="window.open('passwordChange.html', '비밀번호 변경', 'width=500px, height=700px'); return false"><button id="changePW">비밀번호 변경</button></a>
                                </div>
                            </div>
                    </div>

                    <div class="favoriteWeatherIcon">
                        <img id="wicon" src="../fvRain.png" alt="wicon">
                    </div>
                </div>
        </section>
        <section class="favoriteWeather">
            <h3>Weather Archiving </h3>
            <div class="board">
                <div class="searchBar">
                    <div class="searchCondition">
                        <span class="material-symbols-outlined">device_thermostat</span>
                        <select name="기온" id="sTemp">
                            <!-- value가 -1이면 검색 불가 -->
                            <option value="-1" selected>기온</option> 
                            <option value="t1">~5℃</option>
                            <option value="t2">6℃ ~9℃</option>
                            <option value="t3">10℃ ~ 11℃</option>
                            <option value="t4">12℃ ~ 16℃</option>
                            <option value="t5">17℃ ~ 19℃</option>
                            <option value="t6">20℃ ~ 22℃</option>
                            <option value="t7">23℃ ~ 26℃</option>
                            <option value="t8">27℃ ~</option>
                        </select>
                        <span class="material-symbols-outlined">water_drop</span>
                        <select name="습도" id="sHumid">
                            <option value="-1" selected>습도</option> 
                            <option value="h1">0 ~ 10%</option>
                            <option value="h2">10 ~ 20%</option>
                            <option value="h3">20 ~ 30%</option>
                            <option value="h4">30 ~ 40%</option>
                            <option value="h5">40 ~ 50%</option>
                            <option value="h6">50 ~ 60%</option>
                            <option value="h7">60 ~ 70%</option>
                            <option value="h8">70 ~ 80%</option>
                            <option value="h9">80 ~ 90%</option>
                            <option value="h10">90 ~ 100%</option>
                        </select>
                        <span class="material-symbols-outlined">rainy</span>
                        <select name="강수량" id="sRain">
                            <option value="-1" selected>강수량</option> 
                            <option value="r1">~ 3mm</option>
                            <option value="r2">3 ~ 15mm</option>
                            <option value="r3">15mm ~</option>
                            <option value="r4">30mm ~ </option>
                        </select>
                    </div>
                    <button id="sIcon">
                        <span class="material-symbols-outlined">search</span>
                    </button>
                </div>
                <div class="fwList">

                    <article class="fwItem" th:each="record : ${records}">
                        <header class="fwHeader">
                            <h4 th:text="${record.rmd}">3월 4일</h4>
                            <span class="material-symbols-outlined" th:text="${record.wmsg}">sunny</span>
                        </header>
                        <div class="fwDetails">
                            <p class="fwTemp">
                                <span class="material-symbols-outlined">device_thermostat</span>
                                <span th:text="|${record.temp}°C|">25°C</span>
                                <span th:text="${record.tfeel}"></span>
                            </p>
                            <p class="fwHumidity">
                                <span class="material-symbols-outlined">water_drop</span>
                                <span th:text="|${record.humid}%|">60%</span>
                                <span th:text="${record.hfeel}"></span>
                            </p>
                            <p class="fwRain">
                                <span class="material-symbols-outlined">rainy</span>
                                <span th:text="|${record.precip}mm|">0mm</span>
                                <span th:text="${record.pfeel}"></span>
                            </p>
                        </div>
                    </article>

                </div>
            </div>
            <div class="tempFunction">
                <button id="add">
                    <span class="material-symbols-outlined">add</span>
                </button>
                <button id="remove">
                    <span class="material-symbols-outlined">remove</span>
                </button>
            </div>
        </section>
    </div>
    <div class="changePFbackground">
        <div class="changePF">
            <button id="closeChangePF"><span class="material-symbols-outlined">close</span></button>
            <h3>프로필</h3>
            <form class="profileInfo">
                <div class="idWrapper">
                    <span>id</span>
                    <span id="userId" th:text="${user.id}">user</span>
                </div>
                <div class="nicknameWrapper">
                    <span>nickname</span>
                    <span id="userNickname" th:text="${user.nickname}">날씨요정</span>
                    <!-- <button id="changeNN">수정</button> -->
                    <input type="text" placeholder="변경할 닉네임을 입력하세요" id="changeNN">
                </div>
                <div class="fwWrapper">
                    <span>좋아하는 계절</span>
                    <span id="fw" th:text="${user.fvweather}">맑음</span>
                    <!-- <button id="changeFW">수정</button> -->
                    <input type="text" placeholder="변경할 계절을 입력하세요" id="changeFW">
                </div>
                <input type="submit" id="profileInfoChange" value="✓"> 
            </form>
        </div>
    </div>
    <!-- <div class="changePWbackground">
        <div class="changePW">
            <button id="closeChangePW"><span class="material-symbols-outlined">close</span></button>
            <h3>비밀번호 변경</h3>
            <form action="/update-pw" method="post">
                <label for="currentPW">현재 비밀번호</label>
                <input id="currentPW" name="curPw" type="password" placeholder="비밀번호를 입력하세요" oninput="checkCurrentPW(this.value)" onchange="confirmCurrentPW()">
                <label for="newPW">새로운 비밀번호</label>
                <input id="newPW" name="pw" type="password" placeholder="비밀번호를 입력하세요" oninput="checkNewPW(this.value)" onchange="confirmNewPW()">
                <label for="confirmPW">새로운 비밀번호 확인</label>
                <input id="confirmPW" type="password" placeholder="비밀번호를 입력하세요" oninput="checkConfirmPW(this.value)" onchange="completePWC()">
                <input type="submit" value="변경하기" id="changePW">
            </form>
        </div>
    </div> -->
</body>
</html>